---
layout: default
title: 就诊地图
permalink: /Medical-Map/
weight: 4
---

<!-- Echarts JavaScript CDN -->
<script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
<script src="https://cdn.staticfile.org/jquery-resize/1.0/jquery.ba-resize.min.js"></script>

<!-- Data loading, please do not edit -->
{% include medical_map/data_loader.html %}

<script src="{{ '/assets/js/echarts/china.js' | relative_url }}"></script>
<script src="{{ '/assets/js/echarts/mapData.js' | relative_url }}"></script>
<script src="{{ '/assets/js/echarts/mapFunc.js' | relative_url }}"></script>
<script src="{{ '/assets/js/Alert.min.js' | relative_url }}"></script>


<div id="china_list">
    <div class="col-lg-10 mx-auto mt-5 article">
        {% for data in site.data.MapInfo.MapInfo %}
        <p>{% if data.value == 0 %}{% else %}
        <h5>{{ data.name }} ：</h5>
        <h6>{{ data.location }}：</h6>{{ data.describe }}
        {% for link in data.infoLink %}{% if link.title %}<ul><li><a href="{{ link.url }}">{{ link.title }}</a></li></ul>{% endif %}{% endfor %}{% endif %}
        </p>
        {% endfor %}
    </div>
</div>


<div class="chart">
    <div id="china_chart" style="height: 800px; width: 100%;"></div>
</div>

<script>
    let chart = echarts.init(document.getElementById('china_chart'));
    chart.setOption(option);
    chart.on('click', function (params) {
        for (let i = 0; i < MapInfo.length; i++) {
            if (MapInfo[i].name == params.name) {
                if (MapInfo[i].value != '0') {
                    if (MapInfo[i].mutiLink == 'true') {
                        let links = '<h4>请选择就诊故事</h4>';
                        for (let index = 0; index < MapInfo[i].infoLink.length; index++) {
                            links = links + '<a href="' + MapInfo[i].infoLink[index].url + '" target="">' + MapInfo[i].infoLink[index].title + '</a><br>';
                        }
                        alert(links);
                    } else {
                        window.open(MapInfo[i].infoLink.url);
                    }
                } 
            }
        }
    });

    $('.chart').resize(function () {
        chart.resize();
    });
</script>