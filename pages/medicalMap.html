---
layout: default
title: 就诊
permalink: /Medical-Map/
weight: 4
---

<!-- Echarts JavaScript CDN -->
<script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
<script src="https://cdn.staticfile.org/jquery-resize/1.0/jquery.ba-resize.min.js"></script>

<!-- Data loading, please do not edit -->
{% include medicalMap/dataLoader.html %}

<script src="{{ '/assets/js/echarts/china.js' | relative_url }}"></script>
<script src="{{ '/assets/js/echarts/mapData.js' | relative_url }}"></script>
<script src="{{ '/assets/js/echarts/mapFunc.js' | relative_url }}"></script>
<script src="{{ '/assets/js/Alert.min.js' | relative_url }}"></script>


<div id="china_list">
    <div class="col-lg-10 mx-auto mt-5 article">
        {% for data in site.data.MapInfo.MapInfo %}
        {% if data.mutiLink %}
        <p>
        <h5>{{ data.name }} ：</h5>
        <h6>{{ data.location }}：</h6>
        {{ data.describe }}
        </p>
        {% for link in data.infoLink %}
        <p>
            <a href="{{ link }}">就诊故事</a>
        </p>
        {% endfor %}
        {% else %}
        <p>
        <h5>{{ data.name }}</h5>
        <h6>{{ data.location }}</h6>
        {{ data.describe }}
        </p>
        {% if data.infoLink != 0 %}
        <div class="link_list">
            <a id="mobie_link" href="{{ data.infoLink }}">就诊故事</a>
        </div>
        {% endif %}
        {% endif%}
        {% endfor %}
    </div>
</div>


<div class="chart">
    <div id="china_chart" style="height: 800px; width: 100%;"></div>
</div>

<script>
    let chart = echarts.init(document.getElementById('china_chart'));
    chart.setOption(option);
    chart.on('click', function (params) {
        for (let i = 0; i < MapInfo.length; i++) {
            if (MapInfo[i].name == params.name) {
                if (MapInfo[i].infoLink == '0') {
                    break;
                } else {
                    if (MapInfo[i].mutiLink == 'true') {
                        let links = '<h3>请选择就诊故事</h3>';
                        for (let index = 0; index < MapInfo[i].infoLink.length; index++) {
                            links = links + '<a href="' + MapInfo[i].infoLink[index] + '">就诊故事' + (index + 1) + '</a><br>';
                        }
                        alert(links);
                    } else {
                        window.open(MapInfo[i].infoLink);
                    }
                }
            }
        }
    });

    $('.chart').resize(function () {
        chart.resize();
    });
</script>